<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="./script.js" type="text/javascript" defer></script>
    <script src="../getSheetData.js" type="text/javascript" defer></script>

    <link rel="stylesheet" href="./style.css">
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">

    <title>Painel de Administrador</title>
</head>
<body>
    <div id="header">
        <h1>Agendamento de Empréstimo de Chromes</h1>
        <h2>Colégio Satélite</h2>
    </div>

    <div id="page">
        <div id="devolucaoform-wrapper" hidden>
            <form id="devolucaoform">
                <input type="text" name="obs" id="obs" placeholder="Observação">
                <button type="submit">Registrar Devolução</button>
                <button type="button" onclick="document.getElementById('devolucaoform-wrapper').hidden = true">Cancelar</button>
            </form>
            <div id="loading" hidden>
                <span>
                    Registrando devolução...
                </span>
            </div>
            <div class="success_text" id="success" hidden>
                <span>Devolução registrada com sucesso.</span>
                <button class="loading_return" id="loading_return" onclick="closeLoading()">Voltar</button>
            </div>
        </div>

        <div id="listaChromes" hidden>
            <div>
                <ul></ul>
                <button id="voltarListaChromes">Voltar</button>
            </div>
        </div>

        <script type="text/javascript" src="../auth.js"></script>
        <script async defer src="https://apis.google.com/js/api.js" onload="gapiLoaded()"></script>
        <script async defer src="https://accounts.google.com/gsi/client" onload="gisPainelLoaded()"></script>

        <div class="buttons">
            <div class="auth">
                <button id="authorize_button" onclick="authorizePainel()">Login</button>
                <button id="signout_button" onclick="handleSignoutClick(true)" hidden>Logout</button>
            </div>
            <div class="return">
                <button onclick="location.assign('../')">Voltar</button>
            </div>
        </div>

        <div id="paginaPainel" hidden>
            <div>
                <h2>Agendamentos</h2>
                <table id="agendamentos">
                    <tr>
                        <td><button class="cres" onclick="changeSortAgendamentos(event, ORDENAR_ID)">ID</button></td>
                        <td><button onclick="changeSortAgendamentos(event, ORDENAR_DATE)">Data</button></td>
                        <td><button onclick="changeSortAgendamentos(event, ORDENAR_START)">Empréstimo</button></td>
                        <td><button onclick="changeSortAgendamentos(event, ORDENAR_END)">Devolução</button></td>
                        <td><button onclick="changeSortAgendamentos(event, ORDENAR_TURMA)">Turma</button></td>
                        <td><button onclick="changeSortAgendamentos(event, ORDENAR_NOME)">Nome</button></td>
                        <td><button onclick="changeSortAgendamentos(event, ORDENAR_EMAIL)">Email</button></td>
                        <td><button onclick="changeSortAgendamentos(event, ORDENAR_STATUS)">Status</button></td>
                        <td><button onclick="changeSortAgendamentos(event, ORDENAR_CHROMES)">Chromes</button></td>
                        <td>Observações</td>
                        <td>Devolução</td>
                    </tr>
                </table>
            </div>
            <br>
            <div>
                <h2>Chromes</h2>
                <table id="chromes">
                    <tr>
                        <td>Chrome</td>
                        <td>Modelo</td>
                        <td>Status</td>
                        <td>Último agendamento</td>
                        <td>Último usuário</td>
                        <td>Ocupado</td>
                    </tr>
                </table>
            </div>
            <br>
            <div>
                <h2>Arquivados</h2>
                <table id="arquivados">
                    <tr>
                        <td><button class="cres" onclick="changeSortArquivados(event, ORDENAR_ID)">ID</button></td>
                        <td><button onclick="changeSortArquivados(event, ORDENAR_DATE)">Data</button></td>
                        <td><button onclick="changeSortArquivados(event, ORDENAR_START)">Empréstimo</button></td>
                        <td><button onclick="changeSortArquivados(event, ORDENAR_END)">Devolução</button></td>
                        <td><button onclick="changeSortArquivados(event, ORDENAR_TURMA)">Turma</button></td>
                        <td><button onclick="changeSortArquivados(event, ORDENAR_NOME)">Nome</button></td>
                        <td><button onclick="changeSortArquivados(event, ORDENAR_EMAIL)">Email</button></td>
                        <td><button onclick="changeSortArquivados(event, ORDENAR_CHROMES)">Chromes</button></td>
                        <td>Observações</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div id="footer">
        <h3> Site desenvolvido pela Equipe de TI </h3>
        <h4> Email para suporte: gustavo.martinez@colegiosatelite.com.br </h4>
    </div>
</body>
</html>